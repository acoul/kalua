#!/bin/sh

case "$( readlink /bin/sh )" in
	'dash')
		# FIXME: a lot of scripts fail in dash
		logger -s -- "$0: [ERR] please symlink your 'dash' = /bin/sh to bash: rm /bin/sh && ln -s $( command -v bash ) /bin/sh"
		[ -n "$TRAVIS" ] && sudo rm /bin/sh && sudo ln -s $( command -v bash ) /bin/sh
	;;
esac

case "$( readlink /bin/sh )" in
	*'bash')
		# needed for 'explode'
#		echo "logger -s -- debug:\$( readlink /bin/sh )"
#		echo "logger -s -- debug:\$( ls -l /bin/sh )"
#		echo "logger -s -- debug:\$( ls -l \$(readlink /bin/sh) )"
		echo 'shopt -s expand_aliases'
	;;
esac

logger -s -- "$0: [OK] shell interpreter: '$( readlink /bin/sh )'"
